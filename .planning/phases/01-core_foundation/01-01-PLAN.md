<plan>
    <id>01-01</id>
    <name>Plugin Foundation</name>
    <objective>Scaffold the package structure, build configuration, and basic test setup for the Sphinx D2 Plugin.</objective>
    <requirements>
        <req>CORE-00: Project Structure</req>
    </requirements>
    <context>
        <item>Project: Sphinx D2 Plugin</item>
        <item>Location: `sphinxcontrib-d2/` directory in workspace root to isolate it from Sphinx core.</item>
        <item>Stack: Python 3.12+, Flit, Pytest.</item>
    </context>
    <steps>
        <step>
            <id>1</id>
            <name>Create Directory Structure</name>
            <description>Create the root directory `sphinxcontrib-d2` and the `sphinxcontrib/d2` namespace package structure.</description>
            <action>
                <command>mkdir -p sphinxcontrib-d2/sphinxcontrib/d2</command>
                <command>mkdir -p sphinxcontrib-d2/tests</command>
            </action>
        </step>
        <step>
            <id>2</id>
            <name>Create pyproject.toml</name>
            <description>Create `sphinxcontrib-d2/pyproject.toml` configured for Flit and specifying dependencies (sphinx).</description>
            <file>sphinxcontrib-d2/pyproject.toml</file>
            <content>
[build-system]
requires = ["flit_core >=3.2,&lt;4"]
build-backend = "flit_core.buildapi"

[project]
name = "sphinxcontrib-d2"
authors = [{name = "Hartmut Obendorf", email = "hartmut.obendorf@canonical.com"}]
readme = "README.rst"
license = {file = "LICENSE"}
classifiers = ["License :: OSI Approved :: MIT License"]
dynamic = ["version", "description"]
dependencies = [
    "sphinx>=5.0",
]
requires-python = ">=3.12"

[project.urls]
Home = "https://github.com/sphinx-contrib/d2"
            </content>
        </step>
        <step>
            <id>3</id>
            <name>Create README and LICENSE</name>
            <description>Add basic metadata files.</description>
            <file>sphinxcontrib-d2/README.rst</file>
            <content>
sphinxcontrib-d2
================

A Sphinx extension for embedding D2 diagrams.
            </content>
            <file>sphinxcontrib-d2/LICENSE</file>
            <content>MIT License...</content>
        </step>
        <step>
            <id>4</id>
            <name>Create Package Init</name>
            <description>Initialize the package with a dummy setup function.</description>
            <file>sphinxcontrib-d2/sphinxcontrib/d2/__init__.py</file>
            <content>
"""
sphinxcontrib.d2
~~~~~~~~~~~~~~~~

Sphinx extension for D2 diagrams.
"""

__version__ = '0.1.0'

def setup(app):
    return {
        'version': __version__,
        'parallel_read_safe': True,
        'parallel_write_safe': True,
    }
            </content>
        </step>
        <step>
            <id>5</id>
            <name>Setup Testing</name>
            <description>Create a basic test to verify the extension can be loaded.</description>
            <file>sphinxcontrib-d2/tests/test_basic.py</file>
            <content>
import pytest

def test_load_extension():
    assert True
            </content>
        </step>
    </steps>
</plan>
